<?php
class CountriesStates {
	
public $sec_canadian_provinces = array('A0' => 'Alberta, Canada', 'A1' => 'British Columbia, Canada', 'A2' => 'Manitoba, Canada', 'A3' => 'New Brunswick, Canada', 'A4' => 'Newfoundland, Canada', 'A5' => 'Nova Scotia, Canada', 'A6' => 'Ontario, Canada', 'A7' => 'Prince Edward Island, Canada', 'A8' => 'Quebec, Canada', 'A9' => 'Saskatchewan, Canada', 'B0' => 'Yukon, Canada', 'Z4' => 'Canada (Federal Level)');
	
public $sec_country_codes = array('B2' => 'Afghanistan','Y6' => 'Aland Islands', 'B3' => 'Albania', 'B4' => 'Algeria', 'B5' => 'American Samoa', 'B6' => 'Andorra', 'B7' => 'Angola', '1A' => 'Anguilla', 'B8' => 'Antarctica', 'B9' => 'Antigua and Barbuda', 'C1' => 'Argentina', '1B' => 'Armenia', '1C' => 'Aruba', 'C3' => 'Australia', 'C4' => 'Austria', '1D' => 'Azerbaijan', 'C5' => 'Bahamas', 'C6' => 'Bahrain', 'C7' => 'Bangladesh', 'C8' => 'Barbados', '1F' => 'Belarus', 'C9' => 'Belgium', 'D1' => 'Belize', 'G6' => 'Benin', 'D0' => 'Bermuda', 'D2' => 'Bhutan', 'D3' => 'Bolivia', '1E' => 'Bosnia and Herzegovina', 'B1' => 'Botswana', 'D4' => 'Bouvet Island', 'D5' => 'Brazil', 'D6' => 'British Indian Ocean Territory', 'D9' => 'Brunei Darussalam', 'E0' => 'Bulgaria', 'X2' => 'Burkina Faso', 'E2' => 'Burundi', 'E3' => 'Cambodia', 'E4' => 'Cameroon', 'Z4' => 'Canada (Federal Level)', 'E8' => 'Cape Verde', 'E9' => 'Cayman Islands', 'F0' => 'Central African Republic', 'F2' => 'Chad', 'F3' => 'Chile', 'F4' => 'China', 'F6' => 'Christmas Island', 'F7' => 'Cocos (Keeling) Islands', 'F8' => 'Colombia', 'F9' => 'Comoros','G0' => 'Congo','Y3' => 'Congo,the Democratic Republic of the', 'G1' => 'Cook Islands', 'G2' => 'Costa Rica', 'L7' => 'Cote D\'ivoire','1M'=> 'Croatia','G3'=> 'Cuba','G4'=> 'Cyprus','2N'=> 'Czech Republic','G7'=> 'Denmark','1G'=> 'Djibouti','G9'=> 'Dominica','G8'=> 'Dominican Republic', 'H1'=> 'Ecuador','H2'=> 'Egypt','H3'=> 'El Salvador','H4'=> 'Equatorial Guinea','1J'=> 'Eritrea','1H'=> 'Estonia','H5'=> 'Ethiopia','H7'=> 'Falkland Islands (Malvinas)','H6'=> 'Faroe Islands','H8'=> 'Fiji','H9'=> 'Finland','I0'=> 'France','I3'=> 'French Guiana','I4'=> 'French Polynesia','2C'=> 'French Southern Territories','I5'=> 'Gabon','I6'=> 'Gambia','2Q'=> 'Georgia','2M'=> 'Germany','J0'=> 'Ghana','J1'=> 'Gibraltar','J3'=> 'Greece','J4'=> 'Greenland','J5'=> 'Grenada','J6'=> 'Guadeloupe','GU'=> 'Guam','J8'=> 'Guatemala','Y7'=> 'Guernsey','J9'=> 'Guinea','S0'=> 'Guinea-bissau','K0'=> 'Guyana','K1'=> 'Haiti','K4'=> 'Heard Island and Mcdonald Islands','X4'=> 'Holy See (Vatican City State)','K2'=> 'Honduras','K3'=> 'Hong Kong','K5'=> 'Hungary','K6'=> 'Iceland','K7'=> 'India','K8'=> 'Indonesia','K9'=> 'Iran, Islamic Republic of','L0'=> 'Iraq','L2'=> 'Ireland','Y8'=> 'Isle of Man','L3'=> 'Israel','L6'=> 'Italy','L8'=> 'Jamaica','M0'=> 'Japan','Y9'=> 'Jersey','M2'=> 'Jordan','1P'=> 'Kazakstan','M3'=> 'Kenya','J2'=> 'Kiribati','M4'=> 'Korea, Democratic People\'s Republic of', 'M5' => 'Korea,Republic of', 'M6' => 'Kuwait','1N' => 'Kyrgyzstan','M7' => 'Lao People\'s Democratic Republic','1R'=> 'Latvia','M8'=> 'Lebanon','M9'=> 'Lesotho','N0'=> 'Liberia','N1'=> 'Libyan Arab Jamahiriya','N2'=> 'Liechtenstein','1Q'=> 'Lithuania','N4'=> 'Luxembourg','N5'=> 'Macau','1U'=> 'Macedonia, the Former Yugoslav Republic of','N6'=> 'Madagascar','N7'=> 'Malawi','N8'=> 'Malaysia','N9'=> 'Maldives','O0'=> 'Mali','O1'=> 'Malta','1T'=> 'Marshall Islands','O2'=> 'Martinique','O3'=> 'Mauritania','O4'=> 'Mauritius','2P'=> 'Mayotte','O5'=> 'Mexico','1K'=> 'Micronesia, Federated States of','1S'=> 'Moldova, Republic of','O9'=> 'Monaco','P0'=> 'Mongolia','Z5'=> 'Montenegro','P1'=> 'Montserrat','P2'=> 'Morocco','P3'=> 'Mozambique','E1'=> 'Myanmar','T6'=> 'Namibia','P5'=> 'Nauru','P6'=> 'Nepal','P7'=> 'Netherlands','P8'=> 'Netherlands Antilles','1W'=> 'New Caledonia','Q2'=> 'New Zealand','Q3'=> 'Nicaragua','Q4'=> 'Niger','Q5'=> 'Nigeria','Q6'=> 'Niue','Q7'=> 'Norfolk Island','1V'=> 'Northern Mariana Islands','Q8'=> 'Norway','P4'=> 'Oman','R0'=> 'Pakistan','1Y'=> 'Palau','1X'=> 'Palestinian Territory, Occupied','R1'=> 'Panama','R2'=> 'Papua New Guinea','R4'=> 'Paraguay','R5'=> 'Peru','R6'=> 'Philippines','R8'=> 'Pitcairn','R9'=> 'Poland','S1'=> 'Portugal','PR'=> 'Puerto Rico','S3'=> 'Qatar','S4'=> 'Reunion','S5'=> 'Romania','1Z'=> 'Russian Federation','S6'=> 'Rwanda','Z0'=> 'Saint Barthelemy','U8'=> 'Saint Helena','U7'=> 'Saint Kitts and Nevis','U9'=> 'Saint Lucia','Z1'=> 'Saint Martin','V0'=> 'Saint Pierre and Miquelon','V1'=> 'Saint Vincent and the Grenadines','Y0'=> 'Samoa','S8'=> 'San Marino','S9'=> 'Sao Tome and Principe','T0'=> 'Saudi Arabia','T1'=> 'Senegal','Z2'=> 'Serbia','T2'=> 'Seychelles','T8'=> 'Sierra Leone','U0'=> 'Singapore','2B'=> 'Slovakia','2A'=> 'Slovenia','D7'=> 'Solomon Islands','U1'=> 'Somalia','T3'=> 'South Africa','1L'=> 'South Georgia and the South Sandwich Islands','U3'=> 'Spain','F1'=> 'Sri Lanka','V2'=> 'Sudan','V3'=> 'Suriname','L9'=> 'Svalbard and Jan Mayen','V6'=> 'Swaziland','V7'=> 'Sweden','V8'=> 'Switzerland','V9'=> 'Syrian Arab Republic','F5'=> 'Taiwan, Province of China','2D'=> 'Tajikistan','W0'=> 'Tanzania, United Republic of','W1'=> 'Thailand','Z3'=> 'Timor-Leste','W2'=> 'Togo','W3'=> 'Tokelau','W4'=> 'Tonga','W5'=> 'Trinidad and Tobago','W6'=> 'Tunisia','W8'=> 'Turkey','2E'=> 'Turkmenistan','W7'=> 'Turks and Caicos Islands','2G'=> 'Tuvalu','W9'=> 'Uganda','2H'=> 'Ukraine','C0'=> 'United Arab Emirates','X0'=> 'United Kingdom','2J'=> 'United States Minor Outlying Islands','X3'=> 'Uruguay','2K'=> 'Uzbekistan','2L'=> 'Vanuatu','X5'=> 'Venezuela','Q1'=> 'Viet Nam','D8'=> 'Virgin Islands (British)','VI'=> 'Virgin Islands (U.S.)','X8'=> 'Wallis and Futuna','U5'=> 'Western Sahara','T7'=> 'Yemen','Y4'=> 'Zambia','Y5'=> 'Zimbabwe','XX'=> 'Unknown');
	
public $iso_country_codes = array('AD'=> 'Andorra','AE'=> 'United Arab Emirates','AF'=> 'Afghanistan','AG'=> 'Antigua and Barbuda','AI'=> 'Anguilla','AL'=> 'Albania','AM'=> 'Armenia','AN'=> 'Netherlands Antilles','AO'=> 'Angola','AQ'=> 'Antarctica','AR'=> 'Argentina','AS'=> 'American Samoa','AT'=> 'Austria','AU'=> 'Australia','AW'=> 'Aruba','AZ'=> 'Azerbaijan','BA'=> 'Bosnia and Herzegovina','BB'=> 'Barbados','BD'=> 'Bangladesh','BE'=> 'Belgium','BF'=> 'Burkina Faso','BG'=> 'Bulgaria','BH'=> 'Bahrain','BI'=> 'Burundi','BJ'=> 'Benin','BM'=> 'Bermuda','BN'=> 'Brunei Darrussalam','BO'=> 'Bolivia','BR'=> 'Brazil','BS'=> 'Bahamas','BT'=> 'Bhutan','BV'=> 'Bouvet Island','BW'=> 'Botswana','BY'=> 'Belarus','BZ'=> 'Belize','CA'=> 'Canada','CC'=> 'Cocos (Keeling) Islands','CD'=> 'Congo,Democratic People\'s Republic','CF'=> 'Central African Republic','CG'=> 'Congo,Republic of','CH'=> 'Switzerland','CI'=> 'Cote dÃ•Ivoire','CK'=> 'Cook Islands','CL'=> 'Chile','CM'=> 'Cameroon','CN'=> 'China','CO'=> 'Colombia','CR'=> 'Costa Rica','CS'=> 'Serbia and Montenegro','CU'=> 'Cuba','CV'=> 'Cap Verde','CS'=> 'Christmas Island','CY'=> 'Cyprus Island','CZ'=> 'Czech Republic','DE'=> 'Germany','DJ'=> 'Djibouti','DK'=> 'Denmark','DM'=> 'Dominica','DO'=> 'Dominican Republic','DZ'=> 'Algeria','EC'=> 'Ecuador','EE'=> 'Estonia','EG'=> 'Egypt','EH'=> 'Western Sahara','ER'=> 'Eritrea','ES'=> 'Spain','ET'=> 'Ethiopia','FI'=> 'Finland','FJ'=> 'Fiji','FK'=> 'Falkland Islands (Malvina)','FM'=> 'Micronesia,Federal State of','FO'=> 'Faroe Islands','FR'=> 'France','GA'=> 'Gabon','GB'=> 'United Kingdom','GD'=> 'Grenada','GE'=> 'Georgia','GF'=> 'French Guiana','GG'=> 'Guernsey','GH'=> 'Ghana','GI'=> 'Gibraltar','GL'=> 'Greenland','GM'=> 'Gambia','GN'=> 'Guinea','GP'=> 'Guadeloupe','GQ'=> 'Equatorial Guinea','GR'=> 'Greece','GS'=> 'South Georgia','GT'=> 'Guatemala','GU'=> 'Guam','GW'=> 'Guinea-Bissau','GY'=> 'Guyana','HK'=> 'Hong Kong','HM'=> 'Heard and McDonald Islands','HN'=> 'Honduras','HR'=> 'Croatia/Hrvatska','HT'=> 'Haiti','HU'=> 'Hungary','ID'=> 'Indonesia','IE'=> 'Ireland','IL'=> 'Israel','IM'=> 'Isle of Man','IN'=> 'India','IO'=> 'British Indian Ocean Territory','IQ'=> 'Iraq','IR'=> 'Iran (Islamic Republic of)','IS'=> 'Iceland','IT'=> 'Italy','JE'=> 'Jersey','JM'=> 'Jamaica','JO'=> 'Jordan','JP'=> 'Japan','KE'=> 'Kenya','KG'=> 'Kyrgyzstan','KH'=> 'Cambodia','KI'=> 'Kiribati','KM'=> 'Comoros','KN'=> 'Saint Kitts and Nevis','KP'=> 'Korea,Democratic People\'s Republic','KR'=> 'Korea,Republic of','KW'=> 'Kuwait','KY'=> 'Cayman Islands','KZ'=> 'Kazakhstan','LA'=> 'Lao People\'s Democratic Republic','LB'=> 'Lebanon','LC'=> 'Saint Lucia','LI'=> 'Liechtenstein','LK'=> 'Sri Lanka','LR'=> 'Liberia','LS'=> 'Lesotho','LT'=> 'Lithuania','LU'=> 'Luxembourgh','LV'=> 'Latvia','LY'=> 'Libyan Arab Jamahiriya','MA'=> 'Morocco','MC'=> 'Monaco','MD'=> 'Moldova,Republic of','MG'=> 'Madagascar','MH'=> 'Marshall Islands','MK'=> 'Macedonia','ML'=> 'Mali','MM'=> 'Myanmar','MN'=> 'Mongolia','MO'=> 'Macau','MP'=> 'Northern Mariana Islands','MQ'=> 'Martinique','MR'=> 'Mauritania','MS'=> 'Montserrat','MT'=> 'Malta','MU'=> 'Mauritius','Mv'=> 'Maldives','MW'=> 'malawi','MX'=> 'Mexico','MY'=> 'Malaysia','MZ'=> 'Mozambique','NA'=> 'Namibia','NC'=> 'New Caledonia','NE'=> 'Niger','NF'=> 'Norfolk Island','NG'=> 'Nigeria','NI'=> 'Nicaragua','NL'=> 'Netherlands','NO'=> 'Norway','NP'=> 'Nepal','NR'=> 'Nauru','NU'=> 'Niue','NZ'=> 'New Zealand','OM'=> 'Oman','PA'=> 'Panama','PE'=> 'Peru','PF'=> 'French Polynesia','PG'=> 'Papua New Guinea','PH'=> 'Phillipines','PK'=> 'Pakistan','PL'=> 'Poland','PM'=> 'St. Pierre and Miquelon','PN'=> 'Pitcairn Island','PR'=> 'Puerto Rico','PS'=> 'Palestinian Territories','PT'=> 'Portugal','PW'=> 'Palau','PY'=> 'Paraguay','QA'=> 'Qatar','RE'=> 'Reunion Island','RO'=> 'Romania','RU'=> 'Russian Federation','RW'=> 'Rwanda','SA'=> 'Saudi Arabia','SB'=> 'Solomon Islands','SC'=> 'Seychelles','SD'=> 'Sudan','SE'=> 'Sweden','SG'=> 'Singapore','SH'=> 'St. Helena','SI'=> 'Slovenia','SJ'=> 'Svalbard and Jan Mayen Islands','SK'=> 'Slovak Republic','SL'=> 'Sierra Leone','SM'=> 'San Marino','SN'=> 'Senegal','SO'=> 'Somalia','SR'=> 'Suriname','ST'=> 'Sao Tome and Principe','SV'=> 'El Salvador','SY'=> 'Syrian Arab Republic','SZ'=> 'Swaziland','TC'=> 'Turks and Caicos Islands','TD'=> 'Chad','TF'=> 'French Southern Territories','TG'=> 'Togo','TH'=> 'Thailand','TJ'=> 'Tajikistan','TK'=> 'Tokelau','TM'=> 'Turkmenistan','TN'=> 'Tunisia','TO'=> 'Tonga','TP'=> 'East Timor','TR'=> 'Turkey','TT'=> 'Trinidad and Tobago','TV'=> 'Tuvalu','TW'=> 'Taiwan','TZ'=> 'Tanzania','UA'=> 'Ukraine','UG'=> 'Uganda','UM'=> 'US Minor Outlying Islands','US'=> 'United States','UY'=> 'Uruguay','UZ'=> 'Uzbekistan','VA'=> 'Holy See (City Vatican State)','VC'=> 'Saint Vincent and the Grenadines','VE'=> 'Venezuela','VG'=> 'Virgin Islands (British)','VI'=> 'Virgin Islands (USA)','VN'=> 'Vietnam','VU'=> 'Vanuatu','WF'=> 'Wallis and Futuna Islands','WS'=> 'Western Samoa','YE'=> 'Yemen','YT'=> 'Mayotte','YU'=> 'Yugoslavia','ZA'=> 'South Africa','ZM'=> 'Zambia','ZW'=> 'Zimbabwe');
	
public $states = array('AL'=>"Alabama", 'AK'=>"Alaska", 'AZ'=>"Arizona", 'AR'=>"Arkansas", 'CA'=>"California", 'CO'=>"Colorado", 'CT'=>"Connecticut", 'DE'=>"Delaware", 'DC'=>"District of Columbia", 'FL'=>"Florida", 'GA'=>"Georgia", 'HI'=>"Hawaii", 'ID'=>"Idaho", 'IL'=>"Illinois", 'IN'=>"Indiana", 'IA'=>"Iowa", 'KS'=>"Kansas", 'KY'=>"Kentucky", 'LA'=>"Louisiana", 'ME'=>"Maine", 'MD'=>"Maryland", 'MA'=>"Massachusetts", 'MI'=>"Michigan", 'MN'=>"Minnesota", 'MS'=>"Mississippi", 'MO'=>"Missouri", 'MT'=>"Montana", 'NE'=>"Nebraska", 'NV'=>"Nevada", 'NH'=>"New Hampshire", 'NJ'=>"New Jersey", 'NM'=>"New Mexico", 'NY'=>"New York", 'NC'=>"North Carolina", 'ND'=>"North Dakota", 'OH'=>"Ohio", 'OK'=>"Oklahoma", 'OR'=>"Oregon", 'PA'=>"Pennsylvania", 'RI'=>"Rhode Island", 'SC'=>"South Carolina", 'SD'=>"South Dakota", 'TN'=>"Tennessee", 'TX'=>"Texas", 'UT'=>"Utah", 'VT'=>"Vermont", 'VA'=>"Virginia", 'WA'=>"Washington", 'WV'=>"West Virginia", 'WI'=>"Wisconsin", 'WY'=>"Wyoming");
	
	
	static $_instance;
	
	static function instance(){
		if ( !isset(self::$_instance) ){
			self::$_instance = new self();	
		}	
		return self::$_instance;
	}
	
	
	public function location_from_sec_code( $sec_code ){
		
		$_this = self::instance();
		
		// If its a state
		if ( isset($_this->states[$sec_code]) )
			$location = $_this->states[$sec_code] . ', US';
		// If its a Canadian Province
		elseif ( isset($_this->sec_canadian_provinces[$sec_code]) )
			$location = $_this->sec_canadian_provinces[$sec_code];
		// Its another country
		else $location = $_this->country_name_from_sec_code($sec_code);		
		
		return $location;
	}
	
	public function country_name_from_sec_code( $sec_code ){
		
		$_this = self::instance();
		$country = 'Unknown';
		
		// If its a state
		if ( isset($_this->states[$sec_code]) )
			$country = 'United States';
		// If its a Canadian Province
		elseif ( isset($_this->sec_canadian_provinces[$sec_code]) )
			$country = 'Canada';
		// Its another country
		elseif ( isset($_this->sec_country_codes[$sec_code]) )
			$country = $_this->sec_country_codes[$sec_code];
		
		return $country;
	}
	
	public function iso_from_sec_code( $sec_code ){
		
		$_this = self::instance();
		$iso = 'Unknown';
		
		// If its a state
		if ( isset($_this->states[$sec_code]) )
			$iso = 'US';
		// If its a Canadian Province
		elseif ( isset($_this->sec_canadian_provinces[$sec_code]) )
			$iso = 'CA';
		// Its another country
		elseif ( isset($_this->sec_country_codes[$sec_code]) ){
			$sec_name = $_this->sec_country_codes[ $sec_code ];
			$iso = array_search( $sec_name, $_this->iso_country_codes );
		}
		
		return $iso;	
	}
	
}
